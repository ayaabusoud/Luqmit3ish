<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Luqmit3ish.Views.FoodDetailPage"
             x:Name='FoodDetails'
             Title="Food Detail">
    <ContentPage.Content>
        <StackLayout>

            <StackLayout Margin="0">
                <Image Source="{Binding Image}" WidthRequest="300" Margin="0,0,0,0" Aspect="AspectFill"/>

                <Frame HorizontalOptions="FillAndExpand" VerticalOptions="EndAndExpand" CornerRadius="30" HasShadow="True">

                    <StackLayout Margin="10" HorizontalOptions="Fill" Spacing="15" Padding="20">

                        <Grid  ColumnDefinitions="0.3*,0.5*,0.5*" ColumnSpacing="30">
                            <Image Grid.Row="0" Grid.Column="0" Source="{Binding RestaurantImg}" WidthRequest="45"  HorizontalOptions="StartAndExpand"/>
                            <Label Grid.Row="0" Grid.Column="1" Text="{Binding RestauranName}" FontAttributes="Bold" FontSize="16" TextColor="Black"  Margin="-35,10,10,0">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding BindingContext.ProfileCommand , Source={x:Reference FoodDetails}}"
                                                                                    CommandParameter="{Binding restaurantId}"  />
                                </Label.GestureRecognizers>
                            </Label>
                        </Grid>
                        <Label FontSize="16" TextColor="Black" Margin="10,10,20,0">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Pick-up time: " />
                                    <Span Text="{Binding PickUp}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label FontSize="16" TextColor="Black" Margin="10,10,20,0">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Keep Listed for: " />
                                    <Span Text="{Binding KeepValid}" />
                                    <Span Text=" Days" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label VerticalOptions="Center" HorizontalOptions="Center" Margin="-140,0,0,0">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="Available quantity " TextColor="Black" FontSize="17"/>
                                    <Span Text="{Binding Quantity}" TextColor="{StaticResource PrimaryLight}" TextDecorations="Underline" FontAttributes="Bold" FontSize="20"/>
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Frame BackgroundColor="White" BorderColor="LightGray" Margin="10,10,20,0"  CornerRadius="10" HeightRequest="90" >
                            <Label VerticalOptions="Start" HorizontalOptions="Center" Margin="-140,0,0,0">
                                <Label.FormattedText>
                                    <FormattedString>
                                        <Span Text="Description:" />
                                        <Span Text="{Binding Description}"/>
                                    </FormattedString>
                                </Label.FormattedText>
                            </Label>
                        </Frame>
                        <StackLayout Margin="0,0,0,10" >

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" >
                                    <Label Text="&#xf055;" FontFamily="FontAwesomeIcons" FontSize="20" Margin="0,10,0,0" >
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer CommandParameter="{Binding quantity}" Command="{Binding BindingContext.PlusCommand , Source={x:Reference FoodDetails}}"/>
                                        </Label.GestureRecognizers>
                                    </Label>
                                    <Label Text="{Binding BindingContext.Counter , Source={x:Reference FoodDetails}}" FontAttributes="Bold" Margin="3,7,3,0" FontSize="Medium"/>
                                    <Label Text="&#xf056;" FontFamily="FontAwesomeIcons" FontSize="20" Margin="0,10,0,0">
                                        <Label.GestureRecognizers>
                                            <TapGestureRecognizer Command="{Binding BindingContext.MinusCommand , Source={x:Reference FoodDetails}}"/>
                                        </Label.GestureRecognizers>
                                    </Label>

                                </StackLayout>

                                <StackLayout  Grid.Column="1">
                                    <Button CommandParameter="{Binding id}" Command="{Binding BindingContext.ReserveCommand , Source={x:Reference FoodDetails}}" TextColor="{StaticResource PrimaryLight}" Text="Reserve" Margin="10,0,0,0" HeightRequest="40" BackgroundColor="Transparent" FontAttributes="Bold" IsVisible="{Binding BindingContext.IsEnabled, Source={x:Reference FoodDetails}}" />

                                </StackLayout>


                            </Grid>
                        </StackLayout>


                    </StackLayout>
                </Frame>
            </StackLayout>

        </StackLayout>
    </ContentPage.Content>
</ContentPage>